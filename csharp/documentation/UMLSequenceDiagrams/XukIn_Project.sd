#!>>
#!This UML Sequence Diagram
#!describes the parsing
#!of a XUK file
#!(default SDK schema, no extensions),
#!with the C# implementation of the
#!Urakawa SDK.
#!
#!In the general case the caller is:
#!the project instance from the method:
#!Project.OpenXUK(xmlReader)
#!<<

#![sd Urakawa C# SDK: Project XukIn]

main:Actor[r] "Caller"
proj:Project[a]
/pres1:Presentation
/pres2:Presentation
xmlReader:XmlReader
dmfact:DataModelFactory[a]
xuk:XML[p][r]

*0 xuk
<Xuk>
  <Project>
    <mPresentations>
      <Presentation>
        ...
      </Presentation>
      <Presentation>
        ...
      </Presentation>
    </mPresentations>
  </Project>
</Xuk>
*0

main:proj.XukIn(xmlReader)
 proj:.clear()
 proj:proj.XukInAttributes(xmlReader)
  proj:uri=xmlReader.ReadAttribute("baseUri")
  proj:.setBaseUri(uri)
  proj:lang=xmlReader.ReadAttribute("language")
  proj:.setLanguage(lang)
 proj[1]:xmlReader.Read()
 proj:proj.XukInChild(xmlReader)
  proj:proj.XukInPresentations(xmlReader)
   proj:xmlReader.Read()
   proj:dmfact.createPresentation\n(xmlReader.ln,xmlReader.ns)
    dmfact:pres1.new
   proj:pres1.XukIn(xmlReader)
   +0 pres1
     link:PresentationXukIn.sd
   +0
   proj:.addPresentation(pres1)
   proj:xmlReader.Read()
   proj:dmfact.createPresentation\n(xmlReader.LocalName,xmlReader.NamespaceUri)
    dmfact:pres2.new
   proj:pres2.XukIn(xmlReader)
   +0 pres1
     link:PresentationXukIn.sd
   +0
   proj:.addPresentation(pres1)
   


